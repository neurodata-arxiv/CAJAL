

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Functions and Modules &mdash; cajal v1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/ocp_favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="cajal v1.0 documentation" href="../index.html"/>
        <link rel="prev" title="Generating Graphs" href="../tutorials/graphs.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> cajal
          

          
            
            <img src="../_static/ocp_main.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                v1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../sphinx/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sphinx/local_config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sphinx/ocp.html">NeuroData</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sphinx/faq.html">Frequently Asked Questions (FAQ)</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/access.html">Accessing Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/query.html">Querying Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/ramonify.html">RAMON and RAMONifying Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/graphs.html">Generating Graphs</a></li>
</ul>
<p class="caption"><span class="caption-text">Further Reading</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Functions and Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#download-data">Download Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#upload-data">Upload Data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/openconnectome/CAJAL">Github repo</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/openconnectome/cajal/releases/">Release Notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">cajal</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Functions and Modules</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/api/functions.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="functions-and-modules">
<h1>Functions and Modules<a class="headerlink" href="#functions-and-modules" title="Permalink to this headline">¶</a></h1>
<div class="section" id="download-data">
<h2>Download Data<a class="headerlink" href="#download-data" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="packages.cubeCutout.cubeCutout">
<code class="descclassname">packages.cubeCutout.</code><code class="descname">cubeCutout</code><span class="sig-paren">(</span><em>token</em>, <em>channel</em>, <em>queryFile</em>, <em>outputFile</em>, <em>useSemaphore</em>, <em>objectType</em>, <em>serviceLocation</em><span class="sig-paren">)</span><a class="headerlink" href="#packages.cubeCutout.cubeCutout" title="Permalink to this definition">¶</a></dt>
<dd><p>cubeCutout function allows the user to retrieve raw cutout volumes (i.e. no meta data) of image or annotation volumes from NeuroData.</p>
<p><strong>Inputs</strong></p>
<dl class="docutils">
<dt>token: (string)</dt>
<dd><ul class="first last simple">
<li>OCP token name serving as the source for data</li>
</ul>
</dd>
<dt>channel: (string)</dt>
<dd><ul class="first last simple">
<li>OCP channel name for source data</li>
</ul>
</dd>
<dt>queryFile: (string)</dt>
<dd><ul class="first last simple">
<li>Fully formed OCP query saved to a .mat file</li>
</ul>
</dd>
<dt>outFile (string)</dt>
<dd><ul class="first last simple">
<li>Location of output file, saved as a matfile containing a RAMONVolume named &#8216;cube&#8217;.  Contains result of applying classifier to input data.</li>
</ul>
</dd>
<dt>useSemaphore: (int)(default=0)</dt>
<dd><ul class="first last simple">
<li>throttles reading/writing client-side for large batch jobs.  Not needed in single cutout mode.</li>
</ul>
</dd>
<dt>objectType: (int)</dt>
<dd><ul class="first last simple">
<li>Flag indicating data download type. 0=RAMONVolume saved to .mat; 1=HDF5 saved to .h5</li>
</ul>
</dd>
<dt>serviceLocation: (string)</dt>
<dd><ul class="first last simple">
<li>Location of OCP server hosting the data, typically openconnecto.me</li>
</ul>
</dd>
</dl>
<p><strong>Outputs</strong></p>
<blockquote>
<div>No explicit outputs.  Output file is saved to disk rather than
output as a variable to allow for downstream integration with LONI.</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="packages.cubeCutout.computeBlock">
<code class="descclassname">packages.cubeCutout.</code><code class="descname">computeBlock</code><span class="sig-paren">(</span><em>serverLocation</em>, <em>token</em>, <em>channel</em>, <em>resolution</em>, <em>xStart</em>, <em>xStop</em>, <em>yStart</em>, <em>yStop</em>, <em>zStart</em>, <em>zStop</em>, <em>xSpan</em>, <em>ySpan</em>, <em>zSpan</em>, <em>padX</em>, <em>padY</em>, <em>padZ</em>, <em>alignXY</em>, <em>alignZ</em>, <em>computeOptions</em>, <em>shuffleFilesFlag</em>, <em>cubeListFile</em>, <em>cubeOutputDir</em>, <em>mergeListFile</em>, <em>mergeOutputDir</em>, <em>print_flag</em><span class="sig-paren">)</span><a class="headerlink" href="#packages.cubeCutout.computeBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>computeBlock function allows the user to create a query and pull data
from NeuroData easily while computing subvolumes from a larger volume of
interest.</p>
<p><strong>Inputs</strong></p>
<dl class="docutils">
<dt>server: (string)</dt>
<dd><ul class="first last simple">
<li>OCP server name serving as the source for data</li>
</ul>
</dd>
<dt>token: (string)</dt>
<dd><ul class="first last simple">
<li>OCP token name serving as the source for data</li>
</ul>
</dd>
<dt>channel: (string)</dt>
<dd><ul class="first last simple">
<li>OCP channel name serving as the source for data</li>
</ul>
</dd>
<dt>resolution: (int)</dt>
<dd><ul class="first last simple">
<li>Resolution of data you wish to download</li>
</ul>
</dd>
<dt>xStart, yStart, zStart: (int)</dt>
<dd><ul class="first last simple">
<li>Lower bounds of cube to download</li>
</ul>
</dd>
<dt>xStop, yStop, zStop: (int)</dt>
<dd><ul class="first last simple">
<li>Upper bounds of cube to download</li>
</ul>
</dd>
<dt>xSpan, ySpan, zSpan: (int)</dt>
<dd><ul class="first last simple">
<li>Data range in each dimension</li>
</ul>
</dd>
<dt>padX, padY, padZ: (int)</dt>
<dd><ul class="first last simple">
<li>How much you wish to pad the data in each dimension</li>
</ul>
</dd>
<dt>alignXY, alignZ: (int)</dt>
<dd><ul class="first last simple">
<li>Flag for aligning cutout volumes with cubes</li>
</ul>
</dd>
<dt>computeOptions: (string)</dt>
<dd><ul class="first last simple">
<li>Additional processing options</li>
</ul>
</dd>
<dt>shuffleFilesFlag: (int)</dt>
<dd><ul class="first last simple">
<li>Flag for shuffling file ordering of cutouts</li>
</ul>
</dd>
<dt>cubeListFile: (string)</dt>
<dd><ul class="first last simple">
<li>Basename of output cubeList file</li>
</ul>
</dd>
<dt>cubeOutputDir: (string)</dt>
<dd><ul class="first last simple">
<li>Directory to which downloaded cubes are saved</li>
</ul>
</dd>
<dt>mergeListFile: (int)</dt>
<dd><ul class="first last simple">
<li>Flag for merging listfiles across instances</li>
</ul>
</dd>
<dt>mergeOutputDir: (int)</dt>
<dd><ul class="first last simple">
<li>Flag for merging output directories across instances</li>
</ul>
</dd>
<dt>print_flag: (int)</dt>
<dd><ul class="first last simple">
<li>Flag for verbose output or not</li>
</ul>
</dd>
</dl>
<p><strong>Outputs</strong></p>
<blockquote>
<div>No explicit outputs.  Output cubes are saved to disk rather
than output as a variable to allow for downstream integration with
LONI.</div></blockquote>
<p><strong>Notes</strong></p>
<p>Function definition must be one line for documentation to work (known bug in sphinx)</p>
</dd></dl>

</div>
<div class="section" id="upload-data">
<h2>Upload Data<a class="headerlink" href="#upload-data" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="packages.cubeUpload.cubeUploadDense">
<code class="descclassname">packages.cubeUpload.</code><code class="descname">cubeUploadDense</code><span class="sig-paren">(</span><em>server</em>, <em>token</em>, <em>channel</em>, <em>RAMONVol</em>, <em>protoRAMON</em>, <em>useSemaphore</em>, <em>varargin</em><span class="sig-paren">)</span><a class="headerlink" href="#packages.cubeUpload.cubeUploadDense" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Inputs</strong></p>
<dl class="docutils">
<dt>server: (string)</dt>
<dd><ul class="first last simple">
<li>OCP server name serving as the target for annotations</li>
</ul>
</dd>
<dt>token: (string)</dt>
<dd><ul class="first last simple">
<li>OCP token name serving as the target for annotations</li>
</ul>
</dd>
<dt>channel: (string)</dt>
<dd><ul class="first last simple">
<li>OCP channel name serving as the target for annotations</li>
</ul>
</dd>
<dt>RAMONVol: (string)</dt>
<dd><ul class="first last simple">
<li>Location of output file, saved as a matfile containing a RAMONVolume named &#8216;cube&#8217;</li>
</ul>
</dd>
<dt>protoRAMON (string)</dt>
<dd><ul class="first last simple">
<li>RAMONObject prototype to apply to all object types</li>
</ul>
</dd>
<dt>useSemaphore: (int)(default=0)</dt>
<dd><ul class="first last simple">
<li>throttles reading/writing client-side for large batch jobs.  Not needed in single cutout mode</li>
</ul>
</dd>
<dt>outputFile: (string)</dt>
<dd><ul class="first last simple">
<li>optional file path to store output volume as a RAMONVolume named &#8216;cube&#8217;</li>
</ul>
</dd>
</dl>
<p><strong>Outputs</strong></p>
<blockquote>
<div>No explicit outputs.  Output file is optionally saved to disk rather
than output as a variable to allow for downstream integration with
LONI.</div></blockquote>
<p><strong>Notes</strong></p>
<p>Function to upload objects in a RAMON volume as a denseVolume
Requires that all objects begin from a common prototype, and that
RAMONVolume has appropriate fields (in particular resolution and XYZ
offset).  This only supports anno32 data for now - do not use for probability
uploads.  Centroids have been added to this function by popular request.</p>
</dd></dl>

<dl class="function">
<dt id="packages.cubeUpload.uploadLabels">
<code class="descclassname">packages.cubeUpload.</code><code class="descname">uploadLabels</code><span class="sig-paren">(</span><em>server</em>, <em>token</em>, <em>channel</em>, <em>volume</em>, <em>idFile</em>, <em>probability</em>, <em>doRelabel</em>, <em>useSemaphore</em>, <em>varargin</em><span class="sig-paren">)</span><a class="headerlink" href="#packages.cubeUpload.uploadLabels" title="Permalink to this definition">¶</a></dt>
<dd><p>uploadLabels function allows the user to post raw annotation data (i.e.
no meta data) in the form of either annotation labels or probabilities to
OCP.</p>
<p><strong>Inputs</strong></p>
<dl class="docutils">
<dt>server: (string)</dt>
<dd><ul class="first last simple">
<li>OCP server name serving as the target for annotations</li>
</ul>
</dd>
<dt>token: (string)</dt>
<dd><ul class="first last simple">
<li>OCP token name serving as the target for annotations</li>
</ul>
</dd>
<dt>channel: (string)</dt>
<dd><ul class="first last simple">
<li>OCP channel name serving as the target for annotations</li>
</ul>
</dd>
<dt>volume: (RAMONVolume, string)</dt>
<dd><ul class="first last simple">
<li>RAMONVolume or path and filename of .mat file containing the RAMONVolume to be posted</li>
</ul>
</dd>
<dt>idFile: (string)</dt>
<dd><ul class="first last simple">
<li>path and filename which will store the posted id</li>
</ul>
</dd>
<dt>probability: (float)(default=0)</dt>
<dd><ul class="first last simple">
<li>flag indicating whether annotation is a probaility map</li>
</ul>
</dd>
<dt>useSemaphore: (int)(default=0)</dt>
<dd><ul class="first last simple">
<li>throttles reading/writing client-side for large batch jobs.  Not needed in single cutout mode</li>
</ul>
</dd>
</dl>
<p><strong>Outputs</strong></p>
<blockquote>
<div>No explicit outputs.  Output file is optionally saved to disk rather
than output as a variable to allow for downstream integration with
LONI.</div></blockquote>
<p><strong>Notes</strong></p>
<p>Probabilities are uploaded as float32 data, and label annotations are
uploaded as uint32.</p>
</dd></dl>

<dl class="function">
<dt id="packages.cubeUpload.uploadRAMON">
<code class="descclassname">packages.cubeUpload.</code><code class="descname">uploadRAMON</code><span class="sig-paren">(</span><em>server</em>, <em>token</em>, <em>channel</em>, <em>RAMONObj</em>, <em>useSemaphore</em>, <em>idFile</em>, <em>varargin</em><span class="sig-paren">)</span><a class="headerlink" href="#packages.cubeUpload.uploadRAMON" title="Permalink to this definition">¶</a></dt>
<dd><p>uploadRAMON function allows the user to post complete RAMON objects
(annotations and meta data), annotation metadata, or batch upload RAMON
prototypes.</p>
<p><strong>Inputs</strong></p>
<dl class="docutils">
<dt>server: (string)</dt>
<dd><ul class="first last simple">
<li>OCP server name serving as the target for annotations</li>
</ul>
</dd>
<dt>token: (string)</dt>
<dd><ul class="first last simple">
<li>OCP token name serving as the target for annotations</li>
</ul>
</dd>
<dt>channel: (string)</dt>
<dd><ul class="first last simple">
<li>OCP channel name serving as the target for annotations</li>
</ul>
</dd>
<dt>RAMONObj: (RAMON object cell array, string)</dt>
<dd><ul class="first last simple">
<li>single RAMON object, cell array of RAMON objects, or path and filename of .mat file containing the RAMON object to be posted</li>
</ul>
</dd>
<dt>useSemaphore: (int)(default=0)</dt>
<dd><ul class="first last simple">
<li>throttles reading/writing client-side for large batch jobs.  Not needed in single cutout mode</li>
</ul>
</dd>
<dt>ids: (integer array)</dt>
<dd><ul class="first last simple">
<li>optional ids if labels already exist or space has been reserved in the database</li>
</ul>
</dd>
</dl>
<p><strong>Outputs</strong></p>
<blockquote>
<div>No explicit outputs.  Output file is optionally saved to disk rather
than output as a variable to allow for downstream integration with
LONI.</div></blockquote>
<p><strong>Notes</strong></p>
<p>When uploading metadata for a single or multiple complete RAMON
objects, you should stack the RAMON objects in a cell array and pass
that either directly or through a file.
When uploading a prototype RAMON object to one or more ids, pass a
single RAMON object either directly or through a file.
If no id is provided, both of these methods perform the same. If there
are multiple ids and one RAMON object, then the RAMON prototype option will
be selected. If there are an uneven (but greater than one) number of
RAMON objects and ids, then an error will be raised.</p>
</dd></dl>

<p><em>For questions on these functions, please contact Will Gray Roncal at wgr&#64;jhu.edu</em></p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../tutorials/graphs.html" class="btn btn-neutral" title="Generating Graphs" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, NeuroData.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'v1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>